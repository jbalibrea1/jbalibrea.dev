---
import Datetime from './DateTime';
const { post, href } = Astro.props;
const { title, pubDate, modDatetime = null, description, auhtor, tags } = post;
const titleSlug = title.split(' ').join('-').toLowerCase();
// const maxChars = 200;
// const truncatedDescription =
//   post.description.length > maxChars
//     ? post.description.substring(0, maxChars) + '...'
//     : post.description;
---

<li class="my-6 space-y-4">
  <div
    class="grid grid-cols-[1fr] md:grid-cols-[1fr_auto] md:gap-x-8 gap-y-2 items-start group transition duration-300 ease-in-out"
  >
    <a
      href={href}
      class="decoration-dashed underline-offset-2 focus-visible:no-underline focus-visible:underline-offset-0 text-accent opacity-80 text-4xl font-extrabold tracking-tighter decoration-slice group-hover:underline group-hover:opacity-100 group-hover:decoration-2 group-hover:decoration-accent-2 group-hover:scale-[1.005] transition duration-300 ease-in-out"
    >
      <h2 transition:name={titleSlug}>
        {title}
      </h2>
    </a>
    <Datetime pubDatetime={pubDate} modDatetime={modDatetime} />
    <a
      href={href}
      class="group-hover:scale-[1.005] transition duration-300 ease-in-out"
      transition:name={`desc-${description}`}
    >
      {description}
    </a>
    <div class="flex flex-wrap gap-2 md:max-w-60">
      {
        tags.map((tag: String) => (
          <a
            href={`/blog/tags/${tag}`}
            class="text-sm font-medium bg-gray-100 dark:bg-gray-800 text-accent-2/80 hover:text-accent-2 px-2 py-1 rounded-md transition duration-300 ease-in-out hover:scale-[1.05]"
          >
            #{tag}
          </a>
        ))
      }
    </div>
  </div>
</li>
